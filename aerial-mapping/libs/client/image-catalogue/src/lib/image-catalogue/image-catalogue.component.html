<!DOCTYPE html>
<html>
  <head>
    <meta name="component" content="Image Catalogue" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="background">
      <div class="heading">Image Catalogue</div>
      <aerial-mapping-side-navbar></aerial-mapping-side-navbar>
      <div class="content">
        <div>
          <form class="form">
            <!-- <div class="form"> -->
            <mat-icon>search</mat-icon>
            <input class="search" type="text" placeholder="Search" matInput />
            <!-- </div> -->
          </form>
          <mat-form-field appearance="fill">
            <input matInput style="display: none;">
            <label id="right" class="sort">Sort By</label>
            <select onchange="onChangeSort(this)" id="left" class="sort" required style="display: inline">
              <option value="date" selected>Upload Date</option>
              <option value="time">Upload Time</option>
              <option value="park">Park</option>
            </select>
          </mat-form-field>
        </div>

        <div style="height: 85%; overflow-y: auto; margin-top: 2%">
          <mat-card *ngFor="let cat of catalogues" id="{{ cat.collectionID }}">
            <mat-card-header>
              <span style="float: left">{{ cat.name }}</span>
              <span style="float: right">{{ cat.upload_date_time }}</span>
            </mat-card-header>
            <br />
            <mat-card-content>
              <ng-container *ngFor="let img of images | slice: 0:3">
                <img
                  *ngIf="img.image.collectionID === cat.collectionID"
                  style="width: 32%; display: inline-block; padding: 1%"
                  [src]="img.url"
                  alt="{{ img.image.file_name }}"
                />
              </ng-container>
            </mat-card-content>
            <mat-card-footer style="padding: 0px 10px">
              <button class="link tooltip" (click)="enlarge()">View
                <span class="tooltiptext">View images & create maps</span>
              </button>
            </mat-card-footer>
          </mat-card>

          <mat-card class="popup" id="popup" style="overflow-y: none">
            <div class="images" style="overflow-y: auto">
              <!-- <mat-card class="imageContainer" *ngFor="let img of Images">
                <mat-card-content
                  ><img class="image" src="{{ img.path }}"
                /></mat-card-content>
                <mat-card-footer class="imageFooter">{{
                  img.name
                }}</mat-card-footer>
              </mat-card> -->
            </div>
            <!-- <a routerLink="/map-collection" class="button">
              <span class="icon"><mat-icon>add</mat-icon></span>
              <span class="text" style="cursor: pointer;">Create New Map</span>
            </a> -->
            <div class="center">
              <button
                class="link tooltip"
                routerLink="/map-collection"
                style="width: 190px"
              >
                Create New Map
                <span class="tooltiptext">Start image stitching</span>
              </button>
              <span style="margin: 10px"></span>
              <button class="link" (click)="closePopup()" style="width: 190px">
                Close
              </button>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
  </body>
</html>
